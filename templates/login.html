<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - Smart Study Scheduler</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#F6FAFF] h-screen relative overflow-hidden">

    <!-- Logo at Top-Left Corner -->
    <div class="absolute top-5 left-8 z-10">
        <h2 class="text-[#173B64] text-2xl font-bold">Smart Study Scheduler</h2>
    </div>

    <div class="flex h-full">

        <!-- Left Panel -->
        <div class="flex flex-col justify-center p-12 w-1/2 bg-[#F6FAFF]">
            <div class="max-w-md w-full mx-auto">
                <h1 class="text-3xl text-[#173B64] font-bold mb-8">Login</h1>

                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="mb-4 p-4 rounded-md {% if category == 'error' %}bg-red-100 text-red-700{% else %}bg-green-100 text-green-700{% endif %}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <form method="POST" class="space-y-6">
                    {{ form.csrf_token }}
                    <div>
                        {{ form.username_or_email.label(class="block text-[#173B64] mb-2") }}
                        {{ form.username_or_email(class="w-full px-4 py-2 border border-[#A3C4EB] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFDE70]") }}
                        {% if form.username_or_email.errors %}
                            {% for error in form.username_or_email.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                            {% endfor %}
                        {% endif %}
                    </div>

                    <div>
                        {{ form.password.label(class="block text-[#173B64] mb-2") }}
                        {{ form.password(class="w-full px-4 py-2 border border-[#A3C4EB] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFDE70]") }}
                        {% if form.password.errors %}
                            {% for error in form.password.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                            {% endfor %}
                        {% endif %}
                    </div>

                    {{ form.submit(class="w-full py-2 bg-[#FFDE70] text-[#173B64] font-bold rounded-md hover:bg-yellow-300 transition") }}
                </form>

                <p class="text-[#173B64] mt-6 text-center">Don't have an account?
                    <a href="{{ url_for('signup') }}" class="text-[#4facfe] font-semibold hover:underline">Create one</a>
                </p>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="w-1/2 flex items-center justify-center bg-[#A3C4EB]">
            <img src="/static/images/duck_placeholder.png" alt="Study image" class="max-w-[80%] rounded-lg">
        </div>

    </div>

</body>
</html>
